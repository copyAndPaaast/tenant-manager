(()=>{var e={};e.id=1127,e.ids=[1127],e.modules={149:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>h,routeModule:()=>u,serverHooks:()=>c,workAsyncStorage:()=>o,workUnitAsyncStorage:()=>p});var r={};s.r(r),s.d(r,{DELETE:()=>d});var i=s(96559),a=s(48088),n=s(37719),l=s(5069);async function d(e,{params:t}){let{id:s}=await t,r=await (0,l.L)();if(await r.read(),!r.data.supplierFields)return new Response("Field not found",{status:404});let i=r.data.supplierFields.length;return(r.data.supplierFields=r.data.supplierFields.filter(e=>e.id!==s),r.data.supplierFields.length<i)?(await r.write(),new Response(null,{status:204})):new Response("Field not found",{status:404})}let u=new i.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/admin/fields/suppliers/[id]/route",pathname:"/api/admin/fields/suppliers/[id]",filename:"route",bundlePath:"app/api/admin/fields/suppliers/[id]/route"},resolvedPagePath:"/Users/terdmann/Arbeitsbereich/Dev/tenant-manager/src/app/api/admin/fields/suppliers/[id]/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:o,workUnitAsyncStorage:p,serverHooks:c}=u;function h(){return(0,n.patchFetch)({workAsyncStorage:o,workUnitAsyncStorage:p})}},5069:(e,t,s)=>{"use strict";s.d(t,{L:()=>o});var r=s(44994),i=s(82214),a=s(33873),n=s.n(a);let l=null,d=n().join(process.cwd(),"db.json"),u=new i.Pv(d),o=async()=>{if(!l){let e=new r.t(u,{tenants:[],flats:[],expenses:[],suppliers:[],tenantFields:[],expenseFields:[],supplierFields:[]});await e.read(),e.data=e.data||{tenants:[],flats:[],expenses:[],suppliers:[],tenantFields:[],expenseFields:[],supplierFields:[]},await e.write(),l=e}return l}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},44994:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});class r{adapter;data;constructor(e,t){if(void 0===e)throw Error("lowdb: missing adapter");if(void 0===t)throw Error("lowdb: missing default data");this.adapter=e,this.data=t}async read(){let e=await this.adapter.read();e&&(this.data=e)}async write(){this.data&&await this.adapter.write(this.data)}async update(e){e(this.data),await this.write()}}},51455:e=>{"use strict";e.exports=require("node:fs/promises")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},76760:e=>{"use strict";e.exports=require("node:path")},78335:()=>{},82214:(e,t,s)=>{"use strict";s.d(t,{Pv:()=>o}),s(73024);var r=s(51455),i=s(76760),a=s(73136);async function n(e,t,s){for(let r=0;r<t;r++)try{return await e()}catch(e){if(r<t-1)await new Promise(e=>setTimeout(e,s));else throw e}}class l{#e;#t;#s=!1;#r=null;#i=null;#a=null;#n=null;#l(e){return this.#n=e,this.#a||=new Promise((e,t)=>{this.#i=[e,t]}),new Promise((e,t)=>{this.#a?.then(e).catch(t)})}async #d(e){this.#s=!0;try{await (0,r.writeFile)(this.#t,e,"utf-8"),await n(async()=>{await (0,r.rename)(this.#t,this.#e)},10,100),this.#r?.[0]()}catch(e){throw e instanceof Error&&this.#r?.[1](e),e}finally{if(this.#s=!1,this.#r=this.#i,this.#i=this.#a=null,null!==this.#n){let e=this.#n;this.#n=null,await this.write(e)}}}constructor(e){this.#e=e,this.#t=function(e){let t=e instanceof URL?(0,a.fileURLToPath)(e):e.toString();return(0,i.join)((0,i.dirname)(t),`.${(0,i.basename)(t)}.tmp`)}(e)}async write(e){return this.#s?this.#l(e):this.#d(e)}}class d{#e;#u;constructor(e){this.#e=e,this.#u=new l(e)}async read(){let e;try{e=await (0,r.readFile)(this.#e,"utf-8")}catch(e){if("ENOENT"===e.code)return null;throw e}return e}write(e){return this.#u.write(e)}}class u{#o;#p;#c;constructor(e,{parse:t,stringify:s}){this.#o=new d(e),this.#p=t,this.#c=s}async read(){let e=await this.#o.read();return null===e?null:this.#p(e)}write(e){return this.#o.write(this.#c(e))}}class o extends u{constructor(e){super(e,{parse:JSON.parse,stringify:e=>JSON.stringify(e,null,2)})}}},96487:()=>{},96559:(e,t,s)=>{"use strict";e.exports=s(44870)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7719],()=>s(149));module.exports=r})();
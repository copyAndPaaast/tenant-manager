(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8873],{3415:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(5155),n=i(2115),r=i(5695),l=i(7217),a=i(4581),p=i(700),u=i(8534),d=i(2110),o=i(3731);function c(){let[e,t]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[h,m]=(0,n.useState)({}),[f,x]=(0,n.useState)([]),y=(0,r.useRouter)();(0,n.useEffect)(()=>{fetch("/api/admin/fields/suppliers").then(e=>e.json()).then(e=>x(e))},[]);let j=(e,t)=>{m(i=>({...i,[e]:t}))},A=async t=>{t.preventDefault(),await fetch("/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Date.now().toString(),name:e,address:i,customFields:h})}),y.push("/suppliers")};return(0,s.jsxs)(l.A,{children:[(0,s.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsx)(p.A,{variant:"h1",component:"h1",gutterBottom:!0,children:"Add New Supplier"}),(0,s.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",form:"new-supplier-form",children:"Add Supplier"})]}),(0,s.jsx)("form",{onSubmit:A,id:"new-supplier-form",children:(0,s.jsxs)(d.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,s.jsx)(d.A,{size:12,children:(0,s.jsx)(o.A,{label:"Supplier Name",value:e,onChange:e=>t(e.target.value),fullWidth:!0,required:!0})}),(0,s.jsx)(d.A,{size:{sm:12,md:8},children:(0,s.jsx)(o.A,{label:"Address",value:i,onChange:e=>c(e.target.value),fullWidth:!0,multiline:!0,rows:2})}),f.map(e=>(0,s.jsx)(d.A,{size:{sm:12,md:"text"===e.type?12:4},children:(0,s.jsx)(o.A,{label:e.name,type:"number"===e.type||"currency"===e.type?"number":e.type,value:h[e.id]||"",onChange:t=>j(e.id,t.target.value),fullWidth:!0,multiline:"text"===e.type,rows:"text"===e.type?2:1,InputLabelProps:"date"===e.type?{shrink:!0}:{}})},e.id)),(0,s.jsx)(d.A,{size:12,children:(0,s.jsx)(u.A,{type:"submit",variant:"contained",color:"primary",children:"Add Supplier"})})]})})]})}},4542:(e,t,i)=>{Promise.resolve().then(i.bind(i,3415))}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,9008,3731,6780,8441,1684,7358],()=>t(4542)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6016],{551:(e,t,n)=>{Promise.resolve().then(n.bind(n,5850))},932:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8800),a=n(4330);function o(e){let{props:t,name:n,defaultTheme:o,themeId:i}=e,s=(0,a.A)(o);i&&(s=s[i]||s);let{theme:l,name:d,props:c}={theme:s,name:n,props:t};return l&&l.components&&l.components[d]&&l.components[d].defaultProps?(0,r.A)(l.components[d].defaultProps,c):c}},5850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=n(5155),a=n(2115),o=n(6874),i=n.n(o),s=n(7217),l=n(4581),d=n(700),c=n(8534),p=n(4296),u=n(8407),v=n(7976),x=n(6033),h=n(404),m=n(4263),f=n(9776);function A(){let[e,t]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{let[e,n]=await Promise.all([fetch("/api/tenants"),fetch("/api/flats")]),r=await e.json(),a=await n.json();t(r.map(e=>{var t;return{...e,flatName:null==(t=a.find(t=>t.id===e.flatId))?void 0:t.name}}))})()},[]);let n=e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e),o=e=>{if(!e.monthlyPayHistory||0===e.monthlyPayHistory.length)return 0;let t=[...e.monthlyPayHistory].sort((e,t)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime())[0];return t.rent+t.heatingCost+t.additionalCost};return(0,r.jsxs)(s.A,{children:[(0,r.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,r.jsx)(d.A,{variant:"h1",component:"h1",gutterBottom:!0,children:"Tenants"}),(0,r.jsx)(c.A,{variant:"contained",color:"primary",component:i(),href:"/tenants/new",children:"Add Tenant"})]}),(0,r.jsx)(l.A,{sx:{px:2,py:1},children:(0,r.jsx)(p.A,{component:u.A,sx:{borderRadius:"12px",border:"1px solid",borderColor:"divider",overflow:"hidden"},children:(0,r.jsxs)(v.A,{"aria-label":"tenant overview table",children:[(0,r.jsx)(x.A,{children:(0,r.jsxs)(h.A,{sx:{bgcolor:"background.default"},children:[(0,r.jsx)(m.A,{sx:{width:"400px",color:"primary.main",fontSize:"14px",fontWeight:500},children:"Tenant"}),(0,r.jsx)(m.A,{sx:{width:"400px",color:"primary.main",fontSize:"14px",fontWeight:500},children:"Unit"}),(0,r.jsx)(m.A,{sx:{width:"400px",color:"primary.main",fontSize:"14px",fontWeight:500},children:"Rent"}),(0,r.jsx)(m.A,{sx:{width:"240px",color:"secondary.main",fontSize:"14px",fontWeight:500}})]})}),(0,r.jsx)(f.A,{children:e.map(e=>(0,r.jsxs)(h.A,{sx:{borderTop:"1px solid",borderColor:"divider"},children:[(0,r.jsx)(m.A,{component:"th",scope:"row",sx:{color:"primary.main",fontSize:"14px",fontWeight:400},children:e.name}),(0,r.jsx)(m.A,{sx:{color:"secondary.main",fontSize:"14px",fontWeight:400},children:"Unit N/A"})," ",(0,r.jsx)(m.A,{sx:{color:"secondary.main",fontSize:"14px",fontWeight:400},children:n(o(e))}),(0,r.jsx)(m.A,{sx:{color:"secondary.main",fontSize:"14px",fontWeight:700},children:(0,r.jsx)(i(),{href:"/tenants/".concat(e.id,"/edit"),passHref:!0,children:(0,r.jsx)(c.A,{variant:"text",sx:{textTransform:"none",fontWeight:700,color:"secondary.main"},children:"View Details"})})})]},e.id))})]})})})]})}},6324:(e,t,n)=>{"use strict";n.d(t,{A:()=>i}),n(2115);var r=n(4330),a=n(1870),o=n(4107);function i(){let e=(0,r.A)(a.A);return e[o.A]||e}},7217:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(2115),a=n(2596),o=n(870),i=n(7472),s=n(5180),l=n(932),d=n(7316),c=n(5799),p=n(5155);let u=(0,c.A)(),v=(0,d.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,s.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),x=e=>(0,l.A)({props:e,name:"MuiContainer",defaultTheme:u}),h=(e,t)=>{let{classes:n,fixed:r,disableGutters:a,maxWidth:l}=e,d={root:["root",l&&"maxWidth".concat((0,s.A)(String(l))),r&&"fixed",a&&"disableGutters"]};return(0,i.A)(d,e=>(0,o.Ay)(t,e),n)};var m=n(3209),f=n(5955),A=n(186);let b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{createStyledComponent:t=v,useThemeProps:n=x,componentName:o="MuiContainer"}=e,i=t(e=>{let{theme:t,ownerState:n}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{let r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return{..."xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}}}});return r.forwardRef(function(e,t){let r=n(e),{className:s,component:l="div",disableGutters:d=!1,fixed:c=!1,maxWidth:u="lg",classes:v,...x}=r,m={...r,component:l,disableGutters:d,fixed:c,maxWidth:u},f=h(m,o);return(0,p.jsx)(i,{as:l,ownerState:m,className:(0,a.A)(f.root,s),ref:t,...x})})}({createStyledComponent:(0,f.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,m.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,A.b)({props:e,name:"MuiContainer"})})},7316:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(1772).Ay)()},8407:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(2115),a=n(2596),o=n(7472),i=n(4391),s=n(5955),l=n(6324),d=n(680),c=n(186),p=n(3384),u=n(5170),v=n(870);function x(e){return(0,v.Ay)("MuiPaper",e)}(0,u.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var h=n(5155);let m=e=>{let{square:t,elevation:n,variant:r,classes:a}=e;return(0,o.A)({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},x,a)},f=(0,s.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((0,d.A)(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),A=r.forwardRef(function(e,t){var n;let r=(0,c.b)({props:e,name:"MuiPaper"}),o=(0,l.A)(),{className:s,component:d="div",elevation:u=1,square:v=!1,variant:x="elevation",...A}=r,b={...r,component:d,elevation:u,square:v,variant:x},y=m(b);return(0,h.jsx)(f,{as:d,ownerState:b,className:(0,a.A)(y.root,s),ref:t,...A,style:{..."elevation"===x&&{"--Paper-shadow":(o.vars||o).shadows[u],...o.vars&&{"--Paper-overlay":null==(n=o.vars.overlays)?void 0:n[u]},...!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat((0,i.X4)("#fff",(0,p.A)(u)),", ").concat((0,i.X4)("#fff",(0,p.A)(u)),")")}},...A.style}})})}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,6874,297,8441,1684,7358],()=>t(551)),_N_E=e.O()}]);
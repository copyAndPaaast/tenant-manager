(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3898],{1991:(e,t,a)=>{Promise.resolve().then(a.bind(a,4460))},3970:(e,t,a)=>{"use strict";a.d(t,{A:()=>O});var n=a(2115),r=a(2596),o=a(7472),i=a(4391),s=a(6437),c=a(5955),l=a(680),d=a(186),u=a(9801),p=a(4820),m=a(1329),v=a(6863),h=a(4324),g=a(5170);let y=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var f=a(9546),b=a(870);function A(e){return(0,b.Ay)("MuiMenuItem",e)}let x=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=a(5155);let j=e=>{let{disabled:t,dense:a,divider:n,disableGutters:r,selected:i,classes:s}=e,c=(0,o.A)({root:["root",a&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",i&&"selected"]},A,s);return{...s,...c}},k=(0,c.Ay)(p.A,{shouldForwardProp:e=>(0,s.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((0,l.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(x.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,i.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(x.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,i.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(x.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,i.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,i.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(x.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(x.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(h.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(h.A.inset)]:{marginLeft:52},["& .".concat(f.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.A.inset)]:{paddingLeft:36},["& .".concat(y.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(y.root," svg")]:{fontSize:"1.25rem"}}}]}})),O=n.forwardRef(function(e,t){let a,o=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:c=!1,divider:l=!1,disableGutters:p=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:y,className:f,...b}=o,A=n.useContext(u.A),x=n.useMemo(()=>({dense:c||A.dense||!1,disableGutters:p}),[A.dense,c,p]),O=n.useRef(null);(0,m.A)(()=>{i&&O.current&&O.current.focus()},[i]);let I={...o,dense:x.dense,divider:l,disableGutters:p},w=j(o),M=(0,v.A)(O,t);return o.disabled||(a=void 0!==y?y:-1),(0,C.jsx)(u.A.Provider,{value:x,children:(0,C.jsx)(k,{ref:M,role:g,tabIndex:a,component:s,focusVisibleClassName:(0,r.A)(w.focusVisible,h),className:(0,r.A)(w.root,f),...b,ownerState:I,classes:w})})})},4324:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,K:()=>o});var n=a(5170),r=a(870);function o(e){return(0,r.Ay)("MuiDivider",e)}let i=(0,n.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},4460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(5155),r=a(5695),o=a(2115),i=a(700),s=a(7217),c=a(8407),l=a(4581),d=a(3731),u=a(3970),p=a(8534);function m(e){let{params:t}=e,a=(0,r.useRouter)(),[m,v]=(0,o.useState)(null),[h,g]=(0,o.useState)(""),[y,f]=(0,o.useState)([]),[b,A]=(0,o.useState)(""),[x,C]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{let{id:e}=await t;C(e),e&&fetch("/api/tenants/".concat(e)).then(e=>e.json()).then(e=>{v(e),g(e.name),A(e.flatId||"")})})(),fetch("/api/flats").then(e=>e.json()).then(e=>f(e))},[t]);let j=async e=>{e.preventDefault(),x&&((await fetch("/api/tenants/".concat(x),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,flatId:b})})).ok?a.push("/tenants"):console.error("Failed to update tenant"))},k=async()=>{x&&((await fetch("/api/tenants/".concat(x),{method:"DELETE"})).ok?a.push("/tenants"):console.error("Failed to delete tenant"))};return m?(0,n.jsxs)(s.A,{component:c.A,sx:{p:4,mt:4},children:[(0,n.jsx)(i.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Edit Tenant"}),(0,n.jsxs)(l.A,{component:"form",onSubmit:j,sx:{mt:2},children:[(0,n.jsx)(d.A,{label:"Tenant Name",variant:"outlined",fullWidth:!0,value:h,onChange:e=>g(e.target.value),margin:"normal",required:!0}),(0,n.jsx)(d.A,{select:!0,label:"Select Flat",variant:"outlined",fullWidth:!0,value:b,onChange:e=>A(e.target.value),margin:"normal",children:y.map(e=>(0,n.jsx)(u.A,{value:e.id,children:e.name},e.id))}),(0,n.jsxs)(l.A,{sx:{mt:3,display:"flex",gap:2},children:[(0,n.jsx)(p.A,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"}),(0,n.jsx)(p.A,{variant:"outlined",color:"secondary",onClick:k,children:"Delete Tenant"}),(0,n.jsx)(p.A,{variant:"outlined",onClick:()=>a.push("/tenants"),children:"Cancel"})]})]})]}):(0,n.jsx)(i.A,{children:"Loading..."})}},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})},9546:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,b:()=>o});var n=a(5170),r=a(870);function o(e){return(0,r.Ay)("MuiListItemText",e)}let i=(0,n.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,9008,3731,8441,1684,7358],()=>t(1991)),_N_E=e.O()}]);
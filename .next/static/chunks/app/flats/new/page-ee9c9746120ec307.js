(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6200],{2457:(e,t,a)=>{Promise.resolve().then(a.bind(a,9986))},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})},9986:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(5155),r=a(5695),s=a(2115),i=a(7217),o=a(8407),l=a(700),u=a(4581),d=a(3731),c=a(8534);function m(){let e=(0,r.useRouter)(),[t,a]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),v=async a=>{a.preventDefault(),(await fetch("/api/flats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,description:m,notes:p.split("\n").map(e=>({id:Date.now().toString(),date:new Date().toISOString(),note:e}))})})).ok?e.push("/flats"):console.error("Failed to create flat")};return(0,n.jsxs)(i.A,{component:o.A,sx:{p:4,mt:4},children:[(0,n.jsx)(l.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Add New Flat"}),(0,n.jsxs)(u.A,{component:"form",onSubmit:v,sx:{mt:2},children:[(0,n.jsx)(d.A,{label:"Flat Name",variant:"outlined",fullWidth:!0,value:t,onChange:e=>a(e.target.value),margin:"normal",required:!0}),(0,n.jsx)(d.A,{label:"Description (where it is)",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:m,onChange:e=>h(e.target.value),margin:"normal"}),(0,n.jsxs)(u.A,{sx:{mt:3,display:"flex",gap:2},children:[(0,n.jsx)(c.A,{type:"submit",variant:"contained",color:"primary",children:"Add Flat"}),(0,n.jsx)(c.A,{variant:"outlined",onClick:()=>e.push("/flats"),children:"Cancel"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,9008,3731,8441,1684,7358],()=>t(2457)),_N_E=e.O()}]);
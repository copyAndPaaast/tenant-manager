(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{3970:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var n=a(2115),r=a(2596),i=a(7472),o=a(4391),s=a(6437),c=a(5955),l=a(680),d=a(186),p=a(9801),u=a(4820),m=a(1329),h=a(6863),v=a(4324),g=a(5170);let y=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var f=a(9546),x=a(870);function A(e){return(0,x.Ay)("MuiMenuItem",e)}let b=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(5155);let C=e=>{let{disabled:t,dense:a,divider:n,disableGutters:r,selected:o,classes:s}=e,c=(0,i.A)({root:["root",a&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",o&&"selected"]},A,s);return{...s,...c}},O=(0,c.Ay)(u.A,{shouldForwardProp:e=>(0,s.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((0,l.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(b.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(b.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(b.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(b.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(b.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(v.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(v.A.inset)]:{marginLeft:52},["& .".concat(f.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.A.inset)]:{paddingLeft:36},["& .".concat(y.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(y.root," svg")]:{fontSize:"1.25rem"}}}]}})),k=n.forwardRef(function(e,t){let a,i=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:s="li",dense:c=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:v,role:g="menuitem",tabIndex:y,className:f,...x}=i,A=n.useContext(p.A),b=n.useMemo(()=>({dense:c||A.dense||!1,disableGutters:u}),[A.dense,c,u]),k=n.useRef(null);(0,m.A)(()=>{o&&k.current&&k.current.focus()},[o]);let T={...i,dense:b.dense,divider:l,disableGutters:u},w=C(i),S=(0,h.A)(k,t);return i.disabled||(a=void 0!==y?y:-1),(0,j.jsx)(p.A.Provider,{value:b,children:(0,j.jsx)(O,{ref:S,role:g,tabIndex:a,component:s,focusVisibleClassName:(0,r.A)(w.focusVisible,v),className:(0,r.A)(w.root,f),...x,ownerState:T,classes:w})})})},6057:(e,t,a)=>{Promise.resolve().then(a.bind(a,7220))},7220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var n=a(5155),r=a(2115),i=a(7217),o=a(4581),s=a(700),c=a(8534),l=a(7088),d=a(7348),p=a(305),u=a(3970),m=a(3731),h=a(3148),v=a(9204),g=a(3127),y=a(5222),f=a(9505);function x(){let[e,t]=(0,r.useState)(""),[a,x]=(0,r.useState)("text"),[A,b]=(0,r.useState)("tenants"),[j,C]=(0,r.useState)([]);(0,r.useEffect)(()=>{O(A)},[A]);let O=async e=>{try{let t=await fetch("/api/admin/fields/".concat(e));if(!t.ok){console.error("HTTP error! status: ".concat(t.status)),C([]);return}let a=await t.json();C(a)}catch(e){console.error("Error fetching or parsing fields:",e),C([])}},k=async n=>{n.preventDefault(),await fetch("/api/admin/fields/".concat(A),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,type:a})}),t(""),x("text"),O(A)},T=async e=>{await fetch("/api/admin/fields/".concat(A,"/").concat(e),{method:"DELETE"}),O(A)};return(0,n.jsxs)(i.A,{children:[(0,n.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,n.jsx)(s.A,{variant:"h1",component:"h1",gutterBottom:!0,children:"Admin Panel - Custom Fields"}),(0,n.jsx)(c.A,{type:"submit",variant:"contained",color:"primary",form:"add-field-form",children:"Add Field"})]}),(0,n.jsxs)(l.A,{fullWidth:!0,margin:"normal",children:[(0,n.jsx)(d.A,{children:"Category"}),(0,n.jsxs)(p.A,{value:A,label:"Category",onChange:e=>b(e.target.value),children:[(0,n.jsx)(u.A,{value:"tenants",children:"Tenants"}),(0,n.jsx)(u.A,{value:"expenses",children:"Expenses"}),(0,n.jsx)(u.A,{value:"suppliers",children:"Suppliers"})]})]}),(0,n.jsxs)(s.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:4},children:["Add New Field for ",A.charAt(0).toUpperCase()+A.slice(1)]}),(0,n.jsxs)("form",{onSubmit:k,id:"add-field-form",children:[(0,n.jsx)(m.A,{label:"Field Name",value:e,onChange:e=>t(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,n.jsxs)(l.A,{fullWidth:!0,margin:"normal",children:[(0,n.jsx)(d.A,{children:"Field Type"}),(0,n.jsxs)(p.A,{value:a,label:"Field Type",onChange:e=>x(e.target.value),children:[(0,n.jsx)(u.A,{value:"text",children:"Text"}),(0,n.jsx)(u.A,{value:"number",children:"Number"}),(0,n.jsx)(u.A,{value:"currency",children:"Currency"}),(0,n.jsx)(u.A,{value:"date",children:"Date"})]})]})]}),(0,n.jsxs)(s.A,{variant:"h5",component:"h2",gutterBottom:!0,sx:{mt:4},children:["Existing Fields for ",A.charAt(0).toUpperCase()+A.slice(1)]}),(0,n.jsx)(h.A,{children:j.map(e=>(0,n.jsx)(v.Ay,{secondaryAction:(0,n.jsx)(g.A,{edge:"end","aria-label":"delete",onClick:()=>T(e.id),children:(0,n.jsx)(f.A,{})}),children:(0,n.jsx)(y.A,{primary:e.name,secondary:"Type: ".concat(e.type)})},e.id))})]})}},9505:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(7515),r=a(5155);let i=(0,n.A)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")}},e=>{var t=t=>e(e.s=t);e.O(0,[4475,9008,3731,9204,8855,8441,1684,7358],()=>t(6057)),_N_E=e.O()}]);